<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
		 xmlns:s="library://ns.adobe.com/flex/spark"
		 xmlns:mx="library://ns.adobe.com/flex/mx"
		 minWidth="100" minHeight="100" creationComplete="init()" backgroundColor="0x000000">

	<fx:Script>
	<![CDATA[
		import mx.controls.Alert;
		import mx.core.FlexGlobals;
		
		private var streamer:String;
		private var file:String;

		private function init():void {
			streamer = FlexGlobals.topLevelApplication.parameters.server;
			file = FlexGlobals.topLevelApplication.parameters.stream;
			if(file == null) {
			  Alert.show('Missing flashvars: stream');
			  return;
			}
			if(streamer == null) {
			  Alert.show('Missing flashvars: server');
			  return;
			}
			vd.source = streamer + "/" + file;
			vd.play();
		}
	]]>
	</fx:Script>
	
	<mx:VideoDisplay width="100%" height="100%" id="vd" autoPlay="false"></mx:VideoDisplay>
	<mx:VSlider id="volSlider"
			liveDragging="true"
			minimum="0.0"
			maximum="1.0"
			value="0.8"
			snapInterval="0.1"
			change="{vd.volume = volSlider.value}" 
			height="100" />
</s:Application>
